(this["webpackJsonpcarsharing-admin"]=this["webpackJsonpcarsharing-admin"]||[]).push([[0],{25:function(e,t,n){"use strict";n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return j}));n(0);var r=n(11),a=n.n(r),c=n(38),i=n.n(c),o=n(1),s=a.a.bind(i.a),u=function(){return Object(o.jsx)("svg",{width:"15",height:"14",viewBox:"0 0 15 14",fill:"none",children:Object(o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.87336 8.80503H10.5057L14.5 12.8073L13.3073 14L9.30503 10.0057V9.37336L9.08891 9.14923C8.17639 9.93368 6.99171 10.4059 5.70297 10.4059C2.82933 10.4059 0.5 8.07662 0.5 5.20297C0.5 2.32933 2.82933 0 5.70297 0C8.57662 0 10.9059 2.32933 10.9059 5.20297C10.9059 6.49171 10.4337 7.67639 9.64923 8.58891L9.87336 8.80503ZM2.19702 5.30302C2.19702 7.29837 3.80773 8.90908 5.80308 8.90908C7.79844 8.90908 9.40914 7.29837 9.40914 5.30302C9.40914 3.30767 7.79844 1.69696 5.80308 1.69696C3.80773 1.69696 2.19702 3.30767 2.19702 5.30302Z",fill:"#CACEDB"})})},h=function(){return Object(o.jsx)("svg",{width:"18",height:"21",viewBox:"0 0 18 21",fill:"none",children:Object(o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.375 9.04949V14.3727L17.5 16.502V17.5667H0.5V16.502L2.625 14.3727V9.04949C2.625 5.77038 4.35687 3.04489 7.40625 2.32093V1.59697C7.40625 0.713313 8.11812 0 9 0C9.88188 0 10.5938 0.713313 10.5938 1.59697V2.32093C13.6325 3.04489 15.375 5.78103 15.375 9.04949ZM11.2667 18.7C11.2667 19.9467 10.2467 20.9667 9 20.9667C7.742 20.9667 6.73334 19.9467 6.73334 18.7H11.2667Z",fill:"#818EA3"})})},l=function(){return Object(o.jsx)("svg",{width:"9",height:"5",viewBox:"0 0 9 5",fill:"none",children:Object(o.jsx)("path",{d:"M0 0.5L4.25 5L8.5 0.5H0Z",fill:"#ABB6BF"})})},d=function(e){var t=e.burgerActive,n=e.setBurgerActive;return Object(o.jsx)("svg",{className:s("burger",{"burger-active":t}),height:"20px",viewBox:"0 0 24 24",width:"20px",onClick:function(){return n(!t)},children:Object(o.jsxs)("g",{id:"Icon",children:[Object(o.jsx)("path",{d:"M4,6.75l16,0c0.414,0 0.75,-0.336 0.75,-0.75c0,-0.414 -0.336,-0.75 -0.75,-0.75l-16,0c-0.414,0 -0.75,0.336 -0.75,0.75c0,0.414 0.336,0.75 0.75,0.75Z"}),Object(o.jsx)("path",{d:"M4,12.75l16,0c0.414,0 0.75,-0.336 0.75,-0.75c0,-0.414 -0.336,-0.75 -0.75,-0.75l-16,0c-0.414,0 -0.75,0.336 -0.75,0.75c0,0.414 0.336,0.75 0.75,0.75Z"}),Object(o.jsx)("path",{d:"M4,18.75l16,0c0.414,0 0.75,-0.336 0.75,-0.75c0,-0.414 -0.336,-0.75 -0.75,-0.75l-16,0c-0.414,0 -0.75,0.336 -0.75,0.75c0,0.414 0.336,0.75 0.75,0.75Z"})]})})},j=function(e){var t=e.width,n=e.height;return Object(o.jsx)("svg",{width:t,height:n,viewBox:"0 0 45 45",fill:"none",children:Object(o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 22.25C0 9.96178 9.96198 0 22.2504 0C34.538 0 44.5 9.96178 44.5 22.25C44.5 25.0644 43.9774 27.7567 43.0241 30.2353C41.3767 27.6868 38.5104 26 35.25 26C30.1414 26 26 30.1414 26 35.25C26 38.5104 27.6868 41.3768 30.2354 43.0241C27.7569 43.9775 25.0647 44.5 22.2504 44.5C9.96198 44.5 0 34.5382 0 22.25ZM30.2354 43.0241C31.6801 43.9579 33.4018 44.5 35.25 44.5C40.3586 44.5 44.5 40.3586 44.5 35.25C44.5 33.4017 43.9579 31.6801 43.0241 30.2353C40.7682 36.1002 36.1001 40.7682 30.2354 43.0241Z",fill:"#0EC261"})})}},36:function(e,t,n){e.exports={loading:"loading_loading__1kb0E"}},37:function(e,t,n){e.exports={"wrap-center":"authorization_wrap-center__1IkdQ",header:"authorization_header__-hK99","heading-h1":"authorization_heading-h1__Egga4","heading-h1_margin":"authorization_heading-h1_margin__3hkn6","wrap-form":"authorization_wrap-form__EaQ7L"}},38:function(e,t,n){e.exports={burger:"img_burger__3MjMC","burger-active":"img_burger-active__Pp7-K"}},39:function(e,t,n){e.exports={"form-authorization":"formAuthorization_form-authorization__Ks6He","heading-form":"formAuthorization_heading-form__2voz2","form-label":"formAuthorization_form-label__fxQBA","form-input":"formAuthorization_form-input__2ZFcc","form-wrap-button":"formAuthorization_form-wrap-button__Kgy_Q","form-link":"formAuthorization_form-link__2SFtN","form-button":"formAuthorization_form-button__pHqaO","error-msg":"formAuthorization_error-msg__2ZKnF","active-error-msg":"formAuthorization_active-error-msg__2YpfY"}},52:function(e,t,n){},58:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(18),i=n.n(c),o=n(9),s=n(12),u=n(15),h=n(42),l=(n(52),n(3)),d=n(10),j=n(20),b=n(1),f=["children","isAuthenticated"],m=function(e){var t=e.children,n=e.isAuthenticated,r=Object(j.a)(e,f);return Object(b.jsx)(l.b,Object(d.a)(Object(d.a)({},r),{},{render:function(e){var r=e.location;return n?Object(b.jsx)(l.a,{to:{pathname:"/admin",state:{from:r}}}):t}}))},p=["children"],O=function(e){var t=e.children,n=Object(j.a)(e,p);return Object(b.jsx)(l.b,Object(d.a)(Object(d.a)({},n),{},{exact:!0,render:function(){return t}}))},x=[{path:"panel",component:Object(r.lazy)((function(){return n.e(3).then(n.bind(null,85))})),exact:!0}],_=n(11),g=n.n(_),v=n(36),C=n.n(v),w=(n(58),function(){var e=g.a.bind(C.a);return Object(b.jsx)("div",{className:e("loading"),children:Object(b.jsx)("div",{className:"text-center",children:Object(b.jsx)("div",{className:"spinner-border",role:"status"})})})}),A=function(){return Object(b.jsx)(l.d,{children:Object(b.jsx)(r.Suspense,{fallback:Object(b.jsx)(w,{}),children:x.map((function(e){var t=e.component,n=e.path,r=e.exact;return Object(b.jsx)(l.b,{path:"/".concat(n),exact:r,children:Object(b.jsx)(t,{})},n)}))})})},N=n(37),z=n.n(N),k=n(25),Z=n(19),y=n(39),M=n.n(y),B=n(24),L=n.n(B),E=n(40),I=n(41),R=n.n(I).a.create({baseURL:"https://api-factory.simbirsoft1.com/api",responseType:"json"});R.defaults.headers.common.Authorization="Basic MTFkN2M5Zjo0Y2JjZWE5NmRl",R.defaults.headers.common["X-Api-Factory-Application-Id"]="5e25c641099b810b946c5d5b";var S=R,F=function(){return sessionStorage.getItem("token")},H="AUTHORIZATION",V=function(e,t,n,r){var a=F();return function(c){if(a)c({type:H,payload:{auth_success:a,auth_error:!1}});else{var i=function(){var a=Object(E.a)(L.a.mark((function a(){return L.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,S.post("/auth/login",{username:e,password:t}).then((function(e){var t;c({type:H,payload:{auth_success:e.data.refresh_token,auth_error:!1}}),t=e.data.refresh_token,sessionStorage.setItem("token",t),r.push("/panel")})).catch((function(){return n(!0)}));case 2:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();i()}}},T=function(){var e=g.a.bind(M.a),t=Object(o.b)(),n=Object(r.useState)(""),a=Object(Z.a)(n,2),c=a[0],i=a[1],s=Object(r.useState)(""),u=Object(Z.a)(s,2),h=u[0],d=u[1],j=Object(r.useState)(!1),f=Object(Z.a)(j,2),m=f[0],p=f[1],O=Object(l.g)(),x=function(e,t){t(e.target.value)};return Object(b.jsxs)("form",{className:e("form-authorization"),onSubmit:function(e){e.preventDefault(),t(V(c,h,p,O))},children:[Object(b.jsx)("h3",{className:e("heading-form"),children:"\u0412\u0445\u043e\u0434"}),Object(b.jsx)("label",{className:e("form-label"),htmlFor:"login",children:"\u041f\u043e\u0447\u0442\u0430"}),Object(b.jsx)("input",{className:e("form-input"),id:"login",required:!0,onChange:function(e){return x(e,i)}}),Object(b.jsx)("label",{className:e("form-label"),htmlFor:"password",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(b.jsx)("input",{className:e("form-input"),id:"password",type:"password",required:!0,onChange:function(e){return x(e,d)}}),Object(b.jsx)("p",{className:e("error-msg",{"active-error-msg":m}),children:"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043b\u043e\u0433\u0438\u043d \u0438 \u043f\u0430\u0440\u043e\u043b\u044c"}),Object(b.jsxs)("div",{className:e("form-wrap-button"),children:[Object(b.jsx)("a",{href:"#",className:e("form-link"),children:"\u0417\u0430\u043f\u0440\u043e\u0441\u0438\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f"}),Object(b.jsx)("button",{className:e("form-button"),type:"submit",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})},K=function(){var e=Object(o.c)((function(e){return e})).auth,t=g.a.bind(z.a),n=Object(l.g)();return Object(r.useEffect)((function(){e.auth_error||n.push("/panel")}),[e]),e.auth_error&&Object(b.jsxs)("div",{className:t("wrap-center"),children:[Object(b.jsxs)("div",{className:t("header"),children:[Object(b.jsx)(k.d,{width:45,height:45}),Object(b.jsx)("h1",{className:t("heading-h1","heading-h1_margin"),children:"Need for drive"})]}),Object(b.jsx)("div",{className:t("wrap-form"),children:Object(b.jsx)(T,{})})]})},Q=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e})).auth,n=Object(l.g)();return Object(r.useEffect)((function(){F()?(e(V()),n.push("/panel")):n.push("/admin")}),[]),Object(b.jsx)(s.a,{children:Object(b.jsxs)(l.d,{children:[Object(b.jsx)(O,{path:"/admin",children:Object(b.jsx)(K,{})}),Object(b.jsx)(m,{path:"/panel",isAuthenticated:t.auth_error,children:Object(b.jsx)(A,{})})]})})},q={auth_success:"",auth_error:!0},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;return"AUTHORIZATION"===t.type?Object(d.a)(Object(d.a)({},e),t.payload):e},U=Object(u.b)({auth:J}),Y=Object(u.c)(U,Object(u.a)(h.a));i.a.render(Object(b.jsx)(o.a,{store:Y,children:Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(s.a,{children:Object(b.jsx)(Q,{})})})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.377389f6.chunk.js.map